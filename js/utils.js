(()=>{const e={throttle:(e,t,{leading:o=!0,trailing:n=!0}={})=>{let a,i=0;const s=(t,n)=>{a=i=!1===o?0:Date.now(),e.apply(t,n)};return function(){const e=Date.now();i||!1!==o||(i=e);const r=t-(e-i);r<=0||r>t?(a&&(clearTimeout(a),a=null),s(this,arguments)):a||!1===n||(a=setTimeout((()=>s(this,arguments)),r))}},fadeIn:(e,t)=>e.style.cssText=`display:block;animation: to_show ${t}s`,fadeOut:(e,t)=>{const o=()=>{e.style.cssText="display: none; animation: '' ",e.removeEventListener("animationend",o)};e.addEventListener("animationend",o),e.style.animation=`to_hide ${t}s`},sidebarPaddingR:()=>{const e=window.innerWidth-document.body.clientWidth;e>0&&(document.body.style.paddingRight=`${e}px`)},snackbarShow:(e,t=!1,o=5e3)=>{document.styleSheets[0].addRule(":root",`--efu-snackbar-time:${o}ms!important`),Snackbar.show({text:e,showAction:t,duration:o,pos:"top-center"})},copy:async e=>{const t=await navigator.clipboard.writeText(e).then((()=>GLOBAL_CONFIG.lang.copy.success)).catch((()=>GLOBAL_CONFIG.lang.copy.error));utils.snackbarShow(t,!1,2e3)},getEleTop:e=>{let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t},siblings:(e,t)=>[...e.parentNode.children].filter((o=>t?o!==e&&o.matches(t):o!==e)),randomNum:e=>Math.floor(Math.random()*e),timeDiff:(e,t)=>{const o=t.getTime()-e.getTime();return Math.floor(o/864e5)},scrollToDest:(e,t=500)=>{const o=window.pageYOffset,n=document.getElementById("page-header").classList.contains("nav-fixed");if(e=o>e||n?e-70:e,"scrollBehavior"in document.documentElement.style)return void window.scrollTo({top:e,behavior:"smooth"});const a=e-o,i=n=>{const s=s||n,r=n-s;r<t?(window.scrollTo(0,o+a*r/t),window.requestAnimationFrame(i)):window.scrollTo(0,e)};window.requestAnimationFrame(i)},isMobile:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isHidden:e=>0===e.offsetHeight&&0===e.offsetWidth,addEventListenerPjax:(e,t,o,n=!1)=>{e.addEventListener(t,o,n),utils.addGlobalFn("pjax",(()=>{e.removeEventListener(t,o,n)}))},animateIn:(e,t)=>{Object.assign(e.style,{display:"block",animation:t})},animateOut:(e,t)=>{const o=()=>{e.style.display="",e.style.animation="",e.removeEventListener("animationend",o)};e.addEventListener("animationend",o),e.style.animation=t},wrap:(e,t,o)=>{const n=document.createElement(t);for(const[e,t]of Object.entries(o))n.setAttribute(e,t);e.parentNode.insertBefore(n,e),n.appendChild(e)},lazyloadImg:()=>{window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src",callback_error:e=>e.src=GLOBAL_CONFIG.lazyload.error})},lightbox:function(e){const t=GLOBAL_CONFIG.lightbox,o={class:"fancybox","data-fancybox":"gallery"};"mediumZoom"===t?mediumZoom&&mediumZoom(e,{background:"var(--efu-card-bg)"}):"fancybox"===t&&(e.forEach((e=>{"A"!==e.parentNode.tagName&&(o.href=o["data-thumb"]=e.dataset.lazySrc||e.src,o["data-caption"]=e.title||e.alt||"",utils.wrap(e,"a",o))})),window.fancyboxRun||(Fancybox.bind("[data-fancybox]",{Hash:!1,animated:!0,Thumbs:{showOnStart:!1},Images:{Panzoom:{maxScale:4}},Carousel:{transition:"slide"},Toolbar:{display:{left:["infobar"],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY"],right:["slideshow","thumbs","close"]}}}),window.fancyboxRun=!0))},diffDate:(e,t=!1)=>{const o=new Date,n=new Date(e),a=o-n,{time:i}=GLOBAL_CONFIG.lang,s=Math.floor(a/864e5);if(!t)return s;const r=Math.floor(a/6e4),d=Math.floor(a/36e5),l=Math.floor(a/2592e6);return l>12?n.toISOString().slice(0,10):l>=1?`${l} ${i.month}`:s>=1?`${s} ${i.day}`:d>=1?`${d} ${i.hour}`:r>=1?`${r} ${i.min}`:i.just},loadComment:(e,t)=>{const o="IntersectionObserver"in window?new IntersectionObserver((e=>{e[0].isIntersecting&&(t(),o.disconnect())}),{threshold:[0]}):null;o?o.observe(e):t()}};window.utils={...window.utils,...e}})();